<div class="animated fadeIn">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-header">
        <span class="header-caption">Plan List</span>
        <div [hidden]="!isLoading" class="spinner-border text-primary" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="card-header-actions">
          <app-toolbar-list (onItemClicked)="onOptionItemClicked($event)"></app-toolbar-list>
        </div>
      </div>
      <div class="card-body">
        <app-display-alert></app-display-alert>
        <app-modal-loader></app-modal-loader>
        <label class="h5" [hidden]="isAdvanceView">Search By</label>
        <div class="row mb-2">
          <div class="col-6 text-center">
            <div class="input-group" [hidden]="!isAdvanceView">
              <input type="text" id="searchName" name="searchName" class="form-control" placeholder="Type name">
              <span class="input-group-append">
                <button type="button" class="btn btn-sm btn-primary" (click)="search()">Search</button>
                <a [routerLink]="" class="col-form-label ml-2" (click)="isAdvanceView = !isAdvanceView;">{{isAdvanceView
                  ? 'More Options' : 'Hide
                  Options'}}</a>
                <label class="col-form-label  ml-2"> {{isLoading ? 'Searching...' : ' Found Records :' +
                  totalNoOfRecords}}</label>
              </span>
            </div>
          </div>
        </div>

        <div class="border border-1 border-light p-1" id="collapseBasic" [collapse]="isAdvanceView" [isAnimated]="true">
          <form action="" method="post" class="form-horizontal">
            <div class="form-group row">
              <div class="col-6 form-group row">
                <label class="col-md-3 col-form-label" for="searchNameAdv">Name</label>
                <div class="col-md-9">
                  <input type="text" id="searchNameAdv" name="searchNameAdv" [(ngModel)]="objSearch.Name"
                    class="form-control" placeholder="Enter Name.." autocomplete="off">
                </div>
              </div>

            </div>
            <div class="form-group row">
              <div class="col-md-6">
                <div class="input-group">
                  <label class="col-form-label">Within</label>
                  <input type="number" id="searchDays" [(ngModel)]="objSearch.Days" name="searchDays"
                    class="form-control input-group-append" placeholder="days">
                  <span class="input-group-append">
                    <label class="col-form-label">Days</label>
                  </span>
                </div>
              </div>

              <div class="col-6  form-group row">
                <select class="col-md-3 form-control" name="searchAuditType" [(ngModel)]="objSearch.AuditType">
                  <option value="Any">Any</option>
                  <option value="Created">Created</option>
                  <option value="Modified">Modified</option>
                </select>

                <div class="col-md-6">
                  <div class="input-group">
                    <label class="col-form-label">Within</label>
                    <input type="number" id="searchDays" [(ngModel)]="objSearch.Days" name="searchDays"
                      class="form-control input-group-append" placeholder="days">
                    <span class="input-group-append">
                      <label class="col-form-label">Days</label>
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <div class="container col-12 text-center p-2">
              <button type="button" class="btn btn-sm btn-primary" (click)="search()">Search</button>
              <a [routerLink]="" class="col-form-label  ml-2" (click)="isAdvanceView = !isAdvanceView;">{{isAdvanceView
                ? 'More Options' : 'Hide
                Options'}}</a>
              <label class="col-form-label  ml-2"> {{isLoading ? 'Searching...' : ' Found Records :' +
                totalNoOfRecords}}</label>
            </div>

          </form>
        </div>

        <table class="table">
          <thead>
            <tr>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'Id';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'Id'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  Id
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'Name';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'Name'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  Name
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'StudentLimit';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'StudentLimit'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  StudentLimit
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'StaffLimit';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'StaffLimit'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  StaffLimit
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'Amount';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'Amount'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  Amount
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'IsDeleted';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'IsDeleted'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  IsDeleted
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'PlanType';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'PlanType'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  PlanType
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'PaymentFrequency';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'PaymentFrequency'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  PaymentFrequency
                </a>
              </th>
              <th>
                <a class="col-header-style"
                  (click)="orderByField = 'FrequencyAmount';  ordertype= (ordertype === '+'  ? '-' : '+')  ; reverseSort = !reverseSort">
                  <span [hidden]="orderByField !== 'FrequencyAmount'"
                    [ngClass]="{'fa fa-sort-amount-desc' : reverseSort === true, 'fa fa-sort-amount-asc' : reverseSort === false}">
                  </span>
                  FrequencyAmount
                </a>
              </th>


            </tr>

          </thead>
          <tbody>
            <tr *ngFor="let obj of lstMain  | orderBy: ordertype + orderByField">
              <td><a routerLinkActive='active' [routerLink]="['/plans/edit', obj.Id]">{{obj.Id}}</a> </td>
              <td>{{obj.Name}}</td>
              <td>{{obj.StudentLimit | number:'1.0':'en-US' }}</td>
              <td>{{obj.StaffLimit | number:'1.0':'en-US' }}</td>
              <td>{{obj.Amount | number:'1.0':'en-US' }}</td>
              <td>{{obj.IsDeleted | yesNo }}</td>
              <td>{{obj.PlanType}}</td>
              <td>{{obj.PaymentFrequency}}</td>
              <td>{{obj.FrequencyAmount | number:'1.0':'en-US' }}</td>


            </tr>
          </tbody>
        </table>
        <div class="row">
          <div class="col-xs-12 col-12">
            <pagination [totalItems]="totalNoOfRecords" [maxSize]="maxPageCount" (pageChanged)="pageChanged($event)"
              [(ngModel)]="currentPage">
            </pagination>
          </div>
        </div>
      </div>
    </div> 
  </div> 
</div>